"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = "People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"asymp. vac. non-hsehold conts. &\nsymp. ind." = "#FFE29A66",
"symp. conts. &\nasymp. hsehold conts." = "#CDB4DB66",
"only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"asymp. vac. non-hsehold conts. &\nsymp. ind." = "#FFE29A66",
"symp. conts. &\nasymp. hsehold conts." = "#CDB4DB66",
"only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"asymp. vac. non-hsehold conts. &\nsymp. ind." = "#FFE29A66",
"symp. conts. &\nasymp. hsehold conts." = "#CDB4DB66",
"only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"asymp. vac. non-hsehold conts. &\nsymp. ind." = "#FFE29A66",
"symp. conts. &\nasymp. hsehold conts." = "#CDB4DB66",
"only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure","T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts", "asymp. vac. non-hsehold conts. &\nsymp. ind.","symp. conts. &\nasymp. hsehold conts.", "only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"asymp. vac. non-hsehold conts. &\nsymp. ind." = "#FFE29A66",
"symp. conts. &\nasymp. hsehold conts." = "#CDB4DB66",
"only high-risk groups:\nSeniors (60+) and young children (<2 years)\n
Indigenous adults (First Nations, Inuit, Métis, 18+)\n
Frontline healthcare workers & pregnant individuals & immunocompromised" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts",
"T5: high risk (60+ yrs)\n+ healthcare workers"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people" = "#FFE29A66",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts", = "#CDB4DB66",
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts",
"T5: high risk (60+ yrs)\n+ healthcare workers"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people" = "#FFE29A66",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts", = "#CDB4DB66",
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts",
"T5: high risk (60+ yrs)\n+ healthcare workers"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people" = "#FFE29A66",
"T4 = Symptomatic contacts\n+ asymptomatic household\ncontacts" = "#CDB4DB66",
"T5: high risk (60+ yrs)\n+ healthcare workers" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(ggplot2)
library(dplyr)
library(patchwork)
######################################
###### Testing Eligibility###########
# Timeline axis data
testing_timeline <- data.frame(date = as.Date(c("2021-12-15", "2022-01-01", "2022-02-01",
"2022-03-01", "2022-04-01", "2022-05-01", "2022-05-22")),
label = c("Dec 15", "Jan 1", "Feb 1", "Mar 1", "Apr 1", "May 1", "May 22")
)
# Testing segments
testing_segments <- data.frame(
start = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
end   = as.Date(c("2022-01-03","2022-01-24","2022-02-25", "2022-03-17", "2022-05-22")),
level = c("T1 = People with one\nsymptom people\n notified of exposure",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people",
"T4 = Symptomatic \ncontacts+ asymptomatic\nhouseholdcontacts",
"T5: high risk (60+ yrs)\n+ healthcare workers"),
y     = -0.2
)
# midpoints using Date math
testing_segments <- testing_segments %>%
mutate(midpoint = start + (end - start) / 2)
testing_colors <- c(
"T1 = People with one\nsymptom people\n notified of exposure" = "#A8DADC66",
"T2 = Asymptomatic close\ncontacts + symptomatic\npeople who were\nnot close contacts" = "#B5E48C66",
"T3 = Asymptomatic vaccinated\nnon-household contacts\n + symptomatic people" = "#FFE29A66",
"T4 = Symptomatic \ncontacts+ asymptomatic\nhouseholdcontacts" = "#CDB4DB66",
"T5: high risk (60+ yrs)\n+ healthcare workers" = "#FBC4AB66"
)
# event arrows
events <- data.frame(
date = as.Date(c("2021-12-15","2022-01-03","2022-01-24", "2022-02-25", "2022-03-17")),
label = c("Dec 15\n2021","Jan 1\n2022","Jan 24\n2022", "Feb 25\n2022", "March 17\n2022"),
y_tip = 0.15,
y_text = 0.25
)
testing_timeline_plot <- (ggplot() +
# timeline axis
geom_segment(aes(x=min(testing_timeline$date), xend=max(testing_timeline$date),y=0, yend=0), size=1) +
geom_segment(data=testing_timeline,aes(x=date, xend=date, y=0.05, yend=-0.05)) +
geom_text(data=testing_timeline,aes(x=date, y=-0.1, label=label), size=4) +
# event arrows
geom_segment(data=events,aes(x=date, xend=date, y=0, yend=y_tip),arrow=arrow(length=unit(0.1,"cm")), size=0.5) +
geom_text(data=events,aes(x=date, y=y_text, label=label),size=4, hjust=0.5) +
# dotted lines for testing eligibility start and end
geom_segment(data=testing_segments,aes(x=start, xend=start, y=0, yend=y),linetype="dashed", color="black") +
geom_segment(data=testing_segments,aes(x=end, xend=end, y=0, yend=y),linetype="dashed", color="black") +
# ALS bars
geom_rect(data = testing_segments,aes(xmin=start, xmax=end,ymin=y-0.15, ymax=y+0.15,fill=level),color="black") +
scale_fill_manual(values = testing_colors) +
geom_text(data=testing_segments,aes(x=midpoint, y=y, label=level),size=4, color="black") +
theme_void() +
theme(plot.title = element_text(hjust = 0.5, size=14, face="bold"),plot.margin = margin(t = 5, r = 5, b = 5, l = 5))+
coord_cartesian(ylim = c(-0.5, 0.6)) +
theme(legend.position="none"))
print(testing_timeline_plot)
library(cowplot)
library(png)
library(grid)
# load saved PNG images
img1 <- readPNG("../figures/transmission_rate.png")
library(cowplot)
library(png)
library(grid)
# load saved PNG images
img1 <- readPNG("../../figures/transmission_rate.png")
setwd("/Users/fanokye/Documents/MUN/Thesis Samples/quantifying_omicron_burden_in_NL/figures")
library(cowplot)
library(png)
library(grid)
# load saved PNG images
img1 <- readPNG("../figures/transmission_rate.png")
img2 <- readPNG("../figures/reprod_numb.png")
# convert plots to grobs
g1 <- rasterGrob(img1, interpolate = TRUE)
g2 <- rasterGrob(img2, interpolate = TRUE)
# stack vertically
combined_plot <- plot_grid(
g1, g2,
ncol = 1,
labels = c("F","G"),label_size = 20,
align = "v",
rel_heights = c(1, 1)
)
png("../figures/transmission_R0.png", width = 5000, height = 5000, res = 300, bg = "white", type = "cairo")
combined_plot
dev.off()
